<!DOCTYPE HTML>
<html lang="en-US">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="Jekyll v3.8.1">
  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Laon Dreams • Simple, blog-aware, static sites" />
  <link rel="alternate" type="application/atom+xml" title="Recent commits to Jekyll’s master branch" href="https://github.com/laondreams/laondreams/commits/master.atom">
  <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic,900">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css" />
  <link rel="stylesheet" href="/css/screen.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Coroutines | Laon Dreams • Simple, blog-aware, static sites</title>
<meta name="generator" content="Jekyll v3.8.1" />
<meta property="og:title" content="Coroutines" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Coroutines" />
<meta property="og:description" content="Coroutines" />
<link rel="canonical" href="http://localhost:4000/news/2018/05/15/kotlinlang-coroutines/" />
<meta property="og:url" content="http://localhost:4000/news/2018/05/15/kotlinlang-coroutines/" />
<meta property="og:site_name" content="Laon Dreams • Simple, blog-aware, static sites" />
<meta property="og:image" content="http://localhost:4000/img/twitter-card.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-05-15T00:00:00+09:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content="@laondreams" />
<script type="application/ld+json">
{"url":"http://localhost:4000/news/2018/05/15/kotlinlang-coroutines/","image":"http://localhost:4000/img/twitter-card.png","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/img/LaonDreams.png"}},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/news/2018/05/15/kotlinlang-coroutines/"},"description":"Coroutines","@type":"BlogPosting","headline":"Coroutines","dateModified":"2018-05-15T00:00:00+09:00","datePublished":"2018-05-15T00:00:00+09:00","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <!--[if lt IE 9]>
  <script src="/js/html5shiv.min.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
      (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-8484034453879329",
          enable_page_level_ads: true
      });
  </script>
</head>


<body class="wrap">
  <header>
  <div class="flexbox">
    <div class="center-on-mobiles">
      <h1>
        <a href="/" class="logo">
          <span class="sr-only">Jekyll</span>
          <img src="/img/LaonDreams.png" width="140" alt="LaonDreams Logo">
        </a>
      </h1>
    </div>
    <nav class="main-nav hide-on-mobiles">
      <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="">
    <a href="/docs/home/">Docs</a>
  </li>
  <li class="">
    <a href="/news/">Posts</a>
  </li>
</ul>

    </nav>
    <div class="meta hide-on-mobiles">
    </div>
    <div class="meta hide-on-mobiles">
    </div>
    <div class="meta hide-on-mobiles">
    </div>
    <div class="meta hide-on-mobiles">
    </div>
  </div>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="">
    <a href="/docs/home/">Docs</a>
  </li>
  <li class="">
    <a href="/news/">Posts</a>
  </li>
</ul>

  </nav>
</header>


    <section class="news">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the blog…</option>
    <option value="/news/">Home</option>
    <optgroup label="v1.x">
      
      <option value="/news/2018/05/15/kotlinlang-experimental-coroutines/">Using coroutines</option>
      
      <option value="/news/2018/05/15/kotlinlang-command-line-library-js/">Creating a Kotlin JavaScript library with the Command Line Compiler</option>
      
      <option value="/news/2018/05/15/kotlinlang-spring-boot-restful/">Creating a RESTful Web Service with Spring Boot</option>
      
      <option value="/news/2018/05/15/kotlinlang-kotlin-android/">Getting started with Android and Kotlin</option>
      
      <option value="/news/2018/05/15/kotlinlang-koans/">Kotlin Koans</option>
      
      <option value="/news/2018/05/15/kotlinlang-index/">Tutorials</option>
      
      <option value="/news/2018/05/15/kotlinlang-httpservlets/">Creating Web Applications with Http Servlets</option>
      
      <option value="/news/2018/05/15/kotlinlang-edu-tools-learner/">Learning Kotlin with EduTools plugin</option>
      
      <option value="/news/2018/05/15/kotlinlang-edu-tools-educator/">Teaching Kotlin with EduTools plugin</option>
      
      <option value="/news/2018/05/15/kotlinlang-create-library-js/">Creating Kotlin/JavaScript library with IntelliJ IDEA</option>
      
      <option value="/news/2018/05/15/kotlinlang-coroutines-basic-jvm/">Introduction to Kotlin Coroutines on the JVM</option>
      
      <option value="/news/2018/05/15/kotlinlang-command-line/">Working with the Command Line Compiler</option>
      
      <option value="/news/2018/05/15/kotlinlang-command-line-library-js/">Creating Kotlin/JavaScript library with the Command Line Compiler</option>
      
      <option value="/news/2018/05/15/kotlinlang-build-tools/">Working with Build Tools</option>
      
      <option value="/news/2018/05/15/kotlinlang-android-plugin/">Kotlin Android Extensions</option>
      
      <option value="/news/2018/05/15/kotlinlang-android-frameworks/">Android Frameworks Using Annotation Processing</option>
      
      <option value="/news/2018/05/15/kotlinlang-whatsnew12/">What's New in Kotlin 1.2</option>
      
      <option value="/news/2018/05/15/kotlinlang-whatsnew11/">What's New in Kotlin 1.1</option>
      
      <option value="/news/2018/05/15/kotlinlang-visibility-modifiers/">Visibility Modifiers</option>
      
      <option value="/news/2018/05/15/kotlinlang-using-maven/">Using Maven</option>
      
      <option value="/news/2018/05/15/kotlinlang-using-gradle/">Using Gradle</option>
      
      <option value="/news/2018/05/15/kotlinlang-using-ant/">Using Ant</option>
      
      <option value="/news/2018/05/15/kotlinlang-typecasts/">Type Checks and Casts: 'is' and 'as'</option>
      
      <option value="/news/2018/05/15/kotlinlang-type-safe-builders/">Type-Safe Builders</option>
      
      <option value="/news/2018/05/15/kotlinlang-type-aliases/">Type aliases (since 1.1)</option>
      
      <option value="/news/2018/05/15/kotlinlang-this-expressions/">This expressions</option>
      
      <option value="/news/2018/05/15/kotlinlang-server-overview/">Kotlin for Server Side</option>
      
      <option value="/news/2018/05/15/kotlinlang-sealed-classes/">Sealed Classes</option>
      
      <option value="/news/2018/05/15/kotlinlang-returns/">Returns and Jumps: break and continue</option>
      
      <option value="/news/2018/05/15/kotlinlang-reflection/">Reflection</option>
      
      <option value="/news/2018/05/15/kotlinlang-ranges/">Ranges</option>
      
      <option value="/news/2018/05/15/kotlinlang-properties/">Properties and Fields: Getters, Setters, const, lateinit</option>
      
      <option value="/news/2018/05/15/kotlinlang-packages/">Packages and Imports</option>
      
      <option value="/news/2018/05/15/kotlinlang-operator-overloading/">Operator overloading</option>
      
      <option value="/news/2018/05/15/kotlinlang-object-declarations/">Object Expressions, Object Declarations and Companion Objects</option>
      
      <option value="/news/2018/05/15/kotlinlang-null-safety/">Null Safety</option>
      
      <option value="/news/2018/05/15/kotlinlang-nested-classes/">Nested and Inner Classes</option>
      
      <option value="/news/2018/05/15/kotlinlang-native-overview/">Kotlin/Native</option>
      
      <option value="/news/2018/05/15/kotlinlang-multiplatform/">Multiplatform Projects</option>
      
      <option value="/news/2018/05/15/kotlinlang-multi-declarations/">Destructuring Declarations</option>
      
      <option value="/news/2018/05/15/kotlinlang-lambdas/">Higher-Order Functions and Lambdas</option>
      
      <option value="/news/2018/05/15/kotlinlang-kotlin-osgi/">Kotlin and OSGi</option>
      
      <option value="/news/2018/05/15/kotlinlang-kotlin-doc/">Documenting Kotlin Code</option>
      
      <option value="/news/2018/05/15/kotlinlang-kotlin-build-tools/">Kotlin Build Tools</option>
      
      <option value="/news/2018/05/15/kotlinlang-keyword-reference/">Keywords and Operators</option>
      
      <option value="/news/2018/05/15/kotlinlang-kapt/">Using kapt</option>
      
      <option value="/news/2018/05/15/kotlinlang-js-to-kotlin-interop/">Calling Kotlin from JavaScript</option>
      
      <option value="/news/2018/05/15/kotlinlang-js-reflection/">JavaScript Reflection</option>
      
      <option value="/news/2018/05/15/kotlinlang-js-overview/">Kotlin for JavaScript</option>
      
      <option value="/news/2018/05/15/kotlinlang-js-modules/">JavaScript Modules</option>
      
      <option value="/news/2018/05/15/kotlinlang-js-interop/">Calling JavaScript from Kotlin</option>
      
      <option value="/news/2018/05/15/kotlinlang-javascript-dce/">JavaScript DCE</option>
      
      <option value="/news/2018/05/15/kotlinlang-java-to-kotlin-interop/">Calling Kotlin from Java</option>
      
      <option value="/news/2018/05/15/kotlinlang-java-interop/">Calling Java from Kotlin</option>
      
      <option value="/news/2018/05/15/kotlinlang-interfaces/">Interfaces</option>
      
      <option value="/news/2018/05/15/kotlinlang-inline-functions/">Inline Functions and Reified Type Parameters</option>
      
      <option value="/news/2018/05/15/kotlinlang-index/">Reference</option>
      
      <option value="/news/2018/05/15/kotlinlang-idioms/">Idioms</option>
      
      <option value="/news/2018/05/15/kotlinlang-generics/">Generics: in, out, where</option>
      
      <option value="/news/2018/05/15/kotlinlang-functions/">Functions: infix, vararg, tailrec</option>
      
      <option value="/news/2018/05/15/kotlinlang-faq/">FAQ</option>
      
      <option value="/news/2018/05/15/kotlinlang-extensions/">Extensions</option>
      
      <option value="/news/2018/05/15/kotlinlang-exceptions/">Exceptions: try, catch, finally, throw, Nothing</option>
      
      <option value="/news/2018/05/15/kotlinlang-equality/">Equality</option>
      
      <option value="/news/2018/05/15/kotlinlang-enum-classes/">Enum Classes</option>
      
      <option value="/news/2018/05/15/kotlinlang-dynamic-type/">Dynamic Type</option>
      
      <option value="/news/2018/05/15/kotlinlang-delegation/">Delegation</option>
      
      <option value="/news/2018/05/15/kotlinlang-delegated-properties/">Delegated Properties</option>
      
      <option value="/news/2018/05/15/kotlinlang-data-classes/">Data Classes</option>
      
      <option value="/news/2018/05/15/kotlinlang-coroutines/">Coroutines</option>
      
      <option value="/news/2018/05/15/kotlinlang-control-flow/">Control Flow: if, when, for, while</option>
      
      <option value="/news/2018/05/15/kotlinlang-compiler-plugins/">Compiler Plugins</option>
      
      <option value="/news/2018/05/15/kotlinlang-compatibility/">Compatibility</option>
      
      <option value="/news/2018/05/15/kotlinlang-comparison-to-java/">Comparison to Java</option>
      
      <option value="/news/2018/05/15/kotlinlang-collections/">Collections: List, Set, Map</option>
      
      <option value="/news/2018/05/15/kotlinlang-coding-conventions/">Coding Conventions</option>
      
      <option value="/news/2018/05/15/kotlinlang-classes/">Classes and Inheritance</option>
      
      <option value="/news/2018/05/15/kotlinlang-basic-types/">Basic Types: Numbers, Strings, Arrays</option>
      
      <option value="/news/2018/05/15/kotlinlang-basic-syntax/">Basic Syntax</option>
      
      <option value="/news/2018/05/15/kotlinlang-annotations/">Annotations</option>
      
      <option value="/news/2018/05/15/kotlinlang-android-overview/">Kotlin for Android</option>
      
      <option value="/news/2018/05/13/android-01/">Kotlin Programming Language</option>
      
      <option value="/news/2018/01/24/kotlinlang-gradle-for-kotlin-native/">Gradle for Kotlin/Native</option>
      
      <option value="/news/2018/01/23/kotlinlang-kotlin-native-with-clion/">Kotlin/Native with CLion</option>
      
      <option value="/news/2018/01/22/kotlinlang-working-with-klib/">Working with Kotlin/Native Libraries</option>
      
      <option value="/news/2018/01/09/kotlinlang-interop-with-c/">Interop with C Libraries</option>
      
      <option value="/news/2017/12/03/kotlinlang-basic-kotlin-native-app/">A Basic Kotlin/Native Application</option>
      
      <option value="/news/2017/07/31/kotlinlang-debugging-javascript/">Debugging Kotlin in browser</option>
      
      <option value="/news/2017/05/04/kotlinlang-getting-started/">Getting Started with IntelliJ IDEA</option>
      
      <option value="/news/2017/02/27/kotlinlang-working-with-javascript/">Working with JavaScript</option>
      
      <option value="/news/2016/12/03/gradle-tip/">Android Gradle Tips</option>
      
      <option value="/news/2016/11/10/kotlinlang-getting-started-eclipse/">Getting Started with Eclipse Neon</option>
      
      <option value="/news/2016/11/04/kotlinlang-getting-started-with-maven/">Getting Started with Kotlin and JavaScript with Maven</option>
      
      <option value="/news/2016/11/04/kotlinlang-getting-started-with-gradle/">Getting Started with Kotlin and JavaScript with Gradle</option>
      
      <option value="/news/2016/10/07/kotlinlang-calling-javascript-from-kotlin/">Calling JavaScript from Kotlin</option>
      
      <option value="/news/2016/09/30/kotlinlang-working-with-modules/">Working with Kotlin and JavaScript Modules</option>
      
      <option value="/news/2016/09/30/kotlinlang-getting-started-with-intellij-idea/">Getting Started with Kotlin and JavaScript with IntelliJ IDEA</option>
      
      <option value="/news/2016/09/29/kotlinlang-kotlin-to-javascript/">Kotlin to JavaScript</option>
      
      <option value="/news/2016/07/26/android-database-tip/">Android 의 Sqlite Tip</option>
      
      <option value="/news/2016/04/16/migration-to-retrofit2/">Retrofit2 로 전환</option>
      
      <option value="/news/2016/02/12/Android-and-automation/">안드로이드와 자동화 툴</option>
      
      <option value="/news/2015/11/26/%EB%8D%94-%EB%B9%A0%EB%A5%B8-Andriod-App-Build/">더 빠른 Android App Build</option>
      
      <option value="/news/2015/03/10/.androidannotations-%EC%99%80-MVP/">AndroidAnnotations 와 MVP</option>
      
      <option value="/news/2015/03/01/04.androidannotation-%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8/">AndroidAnnotations 과 테스트</option>
      
      <option value="/news/2015/03/01/03.androidannotation-%EA%B3%BC-mvc/">AndroidAnnotations 과 MVC 패턴</option>
      
      <option value="/news/2015/03/01/02.android-%EC%99%80-annotation/">Android 와 Annotation</option>
      
      <option value="/news/2015/03/01/01.Android-mvc-mvvm-mvp/">Android 와 개발 패턴</option>
      
      <option value="/news/2015/02/02/kotlinlang-kotlin-and-ci/">Kotlin and Continuous Integration with TeamCity</option>
      
      <option value="/news/2014/09/23/kotlinlang-mixing-java-kotlin-intellij/">Mixing Java and Kotlin in one project</option>
      
    </optgroup>
  </select>
</div>


      <div class="unit four-fifths">
        <article>
  <h2>
    Coroutines
    <a href="/news/2018/05/15/kotlinlang-coroutines/" class="header-link" title="Permalink">
      <span class="sr-only">Permalink</span>
      <i class="fa fa-link"></i>
    </a>
  </h2>
  <span class="post-category">
    <span class="label">
      Syntax
    </span>
  </span>
  <div class="post-meta">
    <span class="post-date">
      15 May 2018
    </span>
    
    <a href="https://github.com/" class="post-author">
      <img class="avatar avatar-small" alt="author" width="24" height="24" data-proofer-ignore="true" src="https://avatars3.githubusercontent.com/author?v=3&amp;s=24" srcset="https://avatars3.githubusercontent.com/author?v=3&amp;s=24 1x, https://avatars3.githubusercontent.com/author?v=3&amp;s=48 2x, https://avatars3.githubusercontent.com/author?v=3&amp;s=72 3x, https://avatars3.githubusercontent.com/author?v=3&amp;s=96 4x">
      
    </a>
  </div>
  <div class="post-content">
    <h1 id="coroutines">Coroutines</h1>

<blockquote class="note">
  <p>Coroutines are <em>experimental</em> in Kotlin 1.1+. See details <a href="#experimental-status-of-coroutines">below</a></p>
</blockquote>

<p>Some APIs initiate long-running operations (such as network IO, file IO, CPU- or GPU-intensive work, etc) and require the caller to block until they complete. Coroutines provide a way to avoid blocking a thread and replace it with a cheaper and more controllable operation: <em>suspension</em> of a coroutine.</p>

<p>Coroutines simplify asynchronous programming by putting the complications into libraries. The logic of the program can be expressed <em>sequentially</em> in a coroutine, and the underlying library will figure out the asynchrony for us. The library can wrap relevant parts of the user code into callbacks, subscribe to relevant events, schedule execution on different threads (or even different machines!), and the code remains as simple as if it was sequentially executed.</p>

<p>Many asynchronous mechanisms available in other languages can be implemented as libraries using Kotlin coroutines. This includes <a href="https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#composing-suspending-functions"><code class="highlighter-rouge">async</code>/<code class="highlighter-rouge">await</code></a> from C# and ECMAScript, <a href="https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#channels">channels</a> and <a href="https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#select-expression"><code class="highlighter-rouge">select</code></a> from Go, and <a href="#generators-api-in-kotlincoroutines">generators/<code class="highlighter-rouge">yield</code></a> from C# and Python. See the description <a href="#standard-apis">below</a> for libraries providing such constructs.</p>

<h2 id="blocking-vs-suspending">Blocking vs Suspending</h2>

<p>Basically, coroutines are computations that can be <em>suspended</em> without <em>blocking a thread</em>. Blocking threads is often expensive, especially under high load, because only a relatively small number of threads is practical to keep around, so blocking one of them leads to some important work being delayed.</p>

<p>Coroutine suspension is almost free, on the other hand. No context switch or any other involvement of the OS is required. And on top of that, suspension can be controlled by a user library to a large extent: as library authors, we can decide what happens upon a suspension and optimize/log/intercept according to our needs.</p>

<p>Another difference is that coroutines can not be suspended at random instructions, but rather only at so called <em>suspension points</em>, which are calls to specially marked functions.</p>

<h2 id="suspending-functions">Suspending functions</h2>

<p>A suspension happens when we call a function marked with the special modifier, <code class="highlighter-rouge">suspend</code>:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">suspend</span> <span class="k">fun</span> <span class="n">doSomething</span><span class="p">(</span><span class="n">foo</span><span class="p">:</span> <span class="n">Foo</span><span class="p">):</span> <span class="n">Bar</span> <span class="p">{</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Such functions are called <em>suspending functions</em>, because calls to them may suspend a coroutine (the library can decide to proceed without suspension, if the result for the call in question is already available). Suspending functions can take parameters and return values in the same manner as regular functions, but they can only be called from coroutines and other suspending functions, as well as function literals inlined into those.</p>

<p>In fact, to start a coroutine, there must be at least one suspending function, and it is usually a suspending lambda. Let’s look at an example, a simplified <code class="highlighter-rouge">async()</code> function (from the <a href="#generators-api-in-kotlincoroutines"><code class="highlighter-rouge">kotlinx.coroutines</code></a> library):</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">async</span><span class="p">(</span><span class="n">block</span><span class="p">:</span> <span class="n">suspend</span> <span class="p">()</span> <span class="p">-&gt;</span> <span class="n">T</span><span class="p">)</span>
</code></pre></div></div>

<p>Here, <code class="highlighter-rouge">async()</code> is a regular function (not a suspending function), but the <code class="highlighter-rouge">block</code> parameter has a function type with the <code class="highlighter-rouge">suspend</code> modifier: <code class="highlighter-rouge">suspend () -&gt; T</code>. So, when we pass a lambda to <code class="highlighter-rouge">async()</code>, it is a <em>suspending lambda</em>, and we can call a suspending function from it:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">async</span> <span class="p">{</span>
    <span class="n">doSomething</span><span class="p">(</span><span class="n">foo</span><span class="p">)</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">}</span>
</code></pre></div></div>

<blockquote>
  <p><strong>Note:</strong> currently, suspending function types cannot be used as supertypes, and anonymous suspending functions are currently not supported.</p>
</blockquote>

<p>To continue the analogy, <code class="highlighter-rouge">await()</code> can be a suspending function (hence also callable from within an <code class="highlighter-rouge">async {}</code> block) that suspends a coroutine until some computation is done and returns its result:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">async</span> <span class="p">{</span>
    <span class="o">..</span><span class="p">.</span>
    <span class="kd">val</span> <span class="py">result</span> <span class="p">=</span> <span class="n">computation</span><span class="p">.</span><span class="n">await</span><span class="p">()</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">}</span>
</code></pre></div></div>

<p>More information on how actual <code class="highlighter-rouge">async/await</code> functions work in <code class="highlighter-rouge">kotlinx.coroutines</code> can be found <a href="https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#composing-suspending-functions">here</a>.</p>

<p>Note that suspending functions <code class="highlighter-rouge">await()</code> and <code class="highlighter-rouge">doSomething()</code> cannot be called from function literals that are not inlined into a suspending function body and from regular function like <code class="highlighter-rouge">main()</code>:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">fun</span> <span class="n">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="n">doSomething</span><span class="p">()</span> <span class="c1">// ERROR: Suspending function called from a non-coroutine context </span>
    
    <span class="n">async</span> <span class="p">{</span> 
        <span class="o">..</span><span class="p">.</span>
        <span class="n">computations</span><span class="p">.</span><span class="n">forEach</span> <span class="p">{</span> <span class="c1">// `forEach` is an inline function, the lambda is inlined</span>
            <span class="n">it</span><span class="p">.</span><span class="n">await</span><span class="p">()</span> <span class="c1">// OK</span>
        <span class="p">}</span>
            
        <span class="n">thread</span> <span class="p">{</span> <span class="c1">// `thread` is not an inline function, so the lambda is not inlined</span>
            <span class="n">doSomething</span><span class="p">()</span> <span class="c1">// ERROR</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Also note that suspending functions can be virtual, and when overriding them, the <code class="highlighter-rouge">suspend</code> modifier has to be specified:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">interface</span> <span class="nc">Base</span> <span class="p">{</span>
    <span class="n">suspend</span> <span class="k">fun</span> <span class="n">foo</span><span class="p">()</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Derived</span><span class="p">:</span> <span class="n">Base</span> <span class="p">{</span>
    <span class="k">override</span> <span class="n">suspend</span> <span class="k">fun</span> <span class="n">foo</span><span class="p">()</span> <span class="p">{</span> <span class="o">..</span><span class="p">.</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h3 id="restrictssuspension-annotation">
<code class="highlighter-rouge">@RestrictsSuspension</code> annotation</h3>

<p>Extension functions (and lambdas) can also be marked <code class="highlighter-rouge">suspend</code>, just like regular ones. This enables creation of <a href="type-safe-builders.html">DSLs</a> and other APIs that users can extend. In some cases the library author needs to prevent the user from adding <em>new ways</em> of suspending a coroutine.</p>

<p>To achieve this, the <a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental/-restricts-suspension/index.html"><code class="highlighter-rouge">@RestrictsSuspension</code></a> annotation may be used. When a receiver class or interface <code class="highlighter-rouge">R</code> is annotated with it, all suspending extensions are required to delegate to either members of <code class="highlighter-rouge">R</code> or other extensions to it. Since extensions can’t delegate to each other indefinitely (the program would not terminate), this guarantees that all suspensions happen through calling members of <code class="highlighter-rouge">R</code> that the author of the library can fully control.</p>

<p>This is relevant in the <em>rare</em> cases when every suspension is handled in a special way in the library. For example, when implementing generators through the <a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental/build-sequence.html"><code class="highlighter-rouge">buildSequence()</code></a> function described <a href="#generators-api-in-kotlincoroutines">below</a>, we need to make sure that any suspending call in the coroutine ends up calling either <code class="highlighter-rouge">yield()</code> or <code class="highlighter-rouge">yieldAll()</code> and not any other function. This is why <a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental/-sequence-builder/index.html"><code class="highlighter-rouge">SequenceBuilder</code></a> is annotated with <code class="highlighter-rouge">@RestrictsSuspension</code>:</p>

<div class="language-kotlin highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">@RestrictsSuspension</span>
<span class="k">public</span> <span class="k">abstract</span> <span class="kd">class</span> <span class="nc">SequenceBuilder</span><span class="p">&lt;</span><span class="k">in</span> <span class="n">T</span><span class="p">&gt;</span> <span class="p">{</span>
    <span class="o">..</span><span class="p">.</span>
<span class="p">}</span>
</code></pre></div></div>

<p>See the sources <a href="https://github.com/JetBrains/kotlin/blob/master/libraries/stdlib/src/kotlin/coroutines/experimental/SequenceBuilder.kt">on Github</a>.</p>

<h2 id="the-inner-workings-of-coroutines">The inner workings of coroutines</h2>

<p>We are not trying here to give a complete explanation of how coroutines work under the hood, but a rough sense of what’s going on is rather important.</p>

<p>Coroutines are completely implemented through a compilation technique (no support from the VM or OS side is required), and suspension works through code transformation. Basically, every suspending function (optimizations may apply, but we’ll not go into this here) is transformed to a state machine where states correspond to suspending calls. Right before a suspension, the next state is stored in a field of a compiler-generated class along with relevant local variables, etc. Upon resumption of that coroutine, local variables are restored and the state machine proceeds from the state right after suspension.</p>

<p>A suspended coroutine can be stored and passed around as an object that keeps its suspended state and locals. The type of such objects is <code class="highlighter-rouge">Continuation</code>, and the overall code transformation described here corresponds to the classical <a href="https://en.wikipedia.org/wiki/Continuation-passing_style">Continuation-passing style</a>. Consequently, suspending functions take an extra parameter of type <code class="highlighter-rouge">Continuation</code> under the hood.</p>

<p>More details on how coroutines work may be found in <a href="https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md">this design document</a>. Similar descriptions of async/await in other languages (such as C# or ECMAScript 2016) are relevant here, although the language features they implement may not be as general as Kotlin coroutines.</p>

<h2 id="experimental-status-of-coroutines">Experimental status of coroutines</h2>

<p>The design of coroutines is <a href="compatibility.html#experimental-features">experimental</a>, which means that it will be changed in the upcoming releases. When compiling coroutines in Kotlin 1.1+, a warning is reported by default: <em>The feature “coroutines” is experimental</em>. To remove the warning, you need to specify an <a href="/docs/diagnostics/experimental-coroutines.html">opt-in flag</a>.</p>

<p>Due to its experimental status, the coroutine-related API in the Standard Library is put under the <code class="highlighter-rouge">kotlin.coroutines.experimental</code> package. When the design is finalized and the experimental status lifted, the final API will be moved to <code class="highlighter-rouge">kotlin.coroutines</code>, and the experimental package will be kept around (probably in a separate artifact) for backward compatibility.</p>

<p><strong>IMPORTANT NOTE</strong>: We advise library authors to follow the same convention: add the “experimental” (e.g. <code class="highlighter-rouge">com.example.experimental</code>) suffix to your packages exposing coroutine-based APIs so that your library remains binary compatible. When the final API is released, follow these steps:</p>
<ul>
  <li>copy all the APIs to <code class="highlighter-rouge">com.example</code> (without the experimental suffix),</li>
  <li>keep the experimental package around for backward compatibility.</li>
</ul>

<p>This will minimize migration issues for your users.</p>

<h2 id="standard-apis">Standard APIs</h2>

<p>Coroutines come in three main ingredients:</p>
<ul>
  <li>language support (i.s. suspending functions, as described above);</li>
  <li>low-level core API in the Kotlin Standard Library;</li>
  <li>high-level APIs that can be used directly in the user code.</li>
</ul>

<h3 id="low-level-api-kotlincoroutines">Low-level API: <code class="highlighter-rouge">kotlin.coroutines</code>
</h3>

<p>Low-level API is relatively small and should never be used other than for creating higher-level libraries. It consists of two main packages:</p>
<ul>
  <li>
<a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental/index.html"><code class="highlighter-rouge">kotlin.coroutines.experimental</code></a> with main types and primitives such as:
    <ul>
      <li>
<a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental/create-coroutine.html"><code class="highlighter-rouge">createCoroutine()</code></a>,</li>
      <li>
<a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental/start-coroutine.html"><code class="highlighter-rouge">startCoroutine()</code></a>,</li>
      <li>
<a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental/suspend-coroutine.html"><code class="highlighter-rouge">suspendCoroutine()</code></a>;</li>
    </ul>
  </li>
  <li>
<a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental.intrinsics/index.html"><code class="highlighter-rouge">kotlin.coroutines.experimental.intrinsics</code></a> with even lower-level intrinsics such as <a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental.intrinsics/suspend-coroutine-or-return.html"><code class="highlighter-rouge">suspendCoroutineOrReturn</code></a>.</li>
</ul>

<p>More details about the usage of these APIs can be found <a href="https://github.com/Kotlin/kotlin-coroutines/blob/master/kotlin-coroutines-informal.md">here</a>.</p>

<h3 id="generators-api-in-kotlincoroutines">Generators API in <code class="highlighter-rouge">kotlin.coroutines</code>
</h3>

<p>The only “application-level” functions in <code class="highlighter-rouge">kotlin.coroutines.experimental</code> are</p>
<ul>
  <li><a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental/build-sequence.html"><code class="highlighter-rouge">buildSequence()</code></a></li>
  <li><a href="/api/latest/jvm/stdlib/kotlin.coroutines.experimental/build-iterator.html"><code class="highlighter-rouge">buildIterator()</code></a></li>
</ul>

<p>These are shipped within <code class="highlighter-rouge">kotlin-stdlib</code> because they are related to sequences. In fact, these functions (and we can limit ourselves to <code class="highlighter-rouge">buildSequence()</code> alone here) implement <em>generators</em>, i.e. provide a way to cheaply build a lazy sequence:</p>

<div class="sample" data-min-compiler-version="1.1">

  <div class="language-kotlin highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">kotlin.coroutines.experimental.*</span>

<span class="k">fun</span> <span class="n">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
<span class="c1">//sampleStart</span>
    <span class="kd">val</span> <span class="py">fibonacciSeq</span> <span class="p">=</span> <span class="n">buildSequence</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="py">a</span> <span class="p">=</span> <span class="m">0</span>
        <span class="kd">var</span> <span class="py">b</span> <span class="p">=</span> <span class="m">1</span>
        
        <span class="k">yield</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
        
        <span class="k">while</span> <span class="p">(</span><span class="k">true</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">yield</span><span class="p">(</span><span class="n">a</span> <span class="p">+</span> <span class="n">b</span><span class="p">)</span>
            
            <span class="kd">val</span> <span class="py">tmp</span> <span class="p">=</span> <span class="n">a</span> <span class="p">+</span> <span class="n">b</span>
            <span class="n">a</span> <span class="p">=</span> <span class="n">b</span>
            <span class="n">b</span> <span class="p">=</span> <span class="n">tmp</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="c1">//sampleEnd</span>

    <span class="c1">// Print the first five Fibonacci numbers</span>
    <span class="n">println</span><span class="p">(</span><span class="n">fibonacciSeq</span><span class="p">.</span><span class="n">take</span><span class="p">(</span><span class="m">8</span><span class="p">).</span><span class="n">toList</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></div>  </div>

</div>

<p>This generates a lazy, potentially infinite Fibonacci sequence by creating a coroutine that yields consecutive Fibonacci numbers by calling the <code class="highlighter-rouge">yield()</code> function. When iterating over such a sequence every step of the iterator executes another portion of the coroutine that generates the next number. So, we can take any finite list of numbers out of this sequence, e.g. <code class="highlighter-rouge">fibonacciSeq.take(8).toList()</code> results in <code class="highlighter-rouge">[1, 1, 2, 3, 5, 8, 13, 21]</code>. And coroutines are cheap enough to make this practical.</p>

<p>To demonstrate the real laziness of such a sequence, let’s print some debug output inside a call to <code class="highlighter-rouge">buildSequence()</code>:</p>

<div class="sample" data-min-compiler-version="1.1">

  <div class="language-kotlin highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">kotlin.coroutines.experimental.*</span>

<span class="k">fun</span> <span class="n">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
<span class="c1">//sampleStart</span>
    <span class="kd">val</span> <span class="py">lazySeq</span> <span class="p">=</span> <span class="n">buildSequence</span> <span class="p">{</span>
        <span class="n">print</span><span class="p">(</span><span class="s">"START "</span><span class="p">)</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">1</span><span class="o">..</span><span class="m">5</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">yield</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="n">print</span><span class="p">(</span><span class="s">"STEP "</span><span class="p">)</span>
        <span class="p">}</span>
        <span class="n">print</span><span class="p">(</span><span class="s">"END"</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="c1">// Print the first three elements of the sequence</span>
    <span class="n">lazySeq</span><span class="p">.</span><span class="n">take</span><span class="p">(</span><span class="m">3</span><span class="p">).</span><span class="n">forEach</span> <span class="p">{</span> <span class="n">print</span><span class="p">(</span><span class="s">"$it "</span><span class="p">)</span> <span class="p">}</span>
<span class="c1">//sampleEnd</span>
<span class="p">}</span>
</code></pre></div>  </div>

</div>

<p>Running the code above prints the first three elements. The numbers are interleaved with <code class="highlighter-rouge">STEP</code>s in the generating loop. This means that the computation is lazy indeed. To print <code class="highlighter-rouge">1</code> we only execute until the first <code class="highlighter-rouge">yield(i)</code>, and print <code class="highlighter-rouge">START</code> along the way. Then, to print <code class="highlighter-rouge">2</code> we need to proceed to the next <code class="highlighter-rouge">yield(i)</code>, and this prints <code class="highlighter-rouge">STEP</code>. Same for <code class="highlighter-rouge">3</code>. And the next <code class="highlighter-rouge">STEP</code> never gets printed (as well as <code class="highlighter-rouge">END</code>), because we never requested further elements of the sequence.</p>

<p>To yield a collection (or sequence) of values at once, the <code class="highlighter-rouge">yieldAll()</code> function is available:</p>

<div class="sample" data-min-compiler-version="1.1">

  <div class="language-kotlin highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">kotlin.coroutines.experimental.*</span>

<span class="k">fun</span> <span class="n">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
<span class="c1">//sampleStart</span>
    <span class="kd">val</span> <span class="py">lazySeq</span> <span class="p">=</span> <span class="n">buildSequence</span> <span class="p">{</span>
        <span class="k">yield</span><span class="p">(</span><span class="m">0</span><span class="p">)</span>
        <span class="n">yieldAll</span><span class="p">(</span><span class="m">1</span><span class="o">..</span><span class="m">10</span><span class="p">)</span> 
    <span class="p">}</span>

    <span class="n">lazySeq</span><span class="p">.</span><span class="n">forEach</span> <span class="p">{</span> <span class="n">print</span><span class="p">(</span><span class="s">"$it "</span><span class="p">)</span> <span class="p">}</span>
<span class="c1">//sampleEnd</span>
<span class="p">}</span>
</code></pre></div>  </div>

</div>

<p>The <code class="highlighter-rouge">buildIterator()</code> works similarly to <code class="highlighter-rouge">buildSequence()</code>, but returns a lazy iterator.</p>

<p>One can add custom yielding logic to <code class="highlighter-rouge">buildSequence()</code> by writing suspending extensions to the <code class="highlighter-rouge">SequenceBuilder</code> class (that bears the <code class="highlighter-rouge">@RestrictsSuspension</code> annotation described <a href="#restrictssuspension-annotation">above</a>):</p>

<div class="sample" data-min-compiler-version="1.1">

  <div class="language-kotlin highlighter-rouge">
<div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">kotlin.coroutines.experimental.*</span>

<span class="c1">//sampleStart</span>
<span class="n">suspend</span> <span class="k">fun</span> <span class="n">SequenceBuilder</span><span class="p">&lt;</span><span class="n">Int</span><span class="p">&gt;.</span><span class="n">yieldIfOdd</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">Int</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="p">%</span> <span class="m">2</span> <span class="p">!=</span> <span class="m">0</span><span class="p">)</span> <span class="k">yield</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">val</span> <span class="py">lazySeq</span> <span class="p">=</span> <span class="n">buildSequence</span> <span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span> <span class="k">in</span> <span class="m">1</span><span class="o">..</span><span class="m">10</span><span class="p">)</span> <span class="n">yieldIfOdd</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<span class="p">}</span>
<span class="c1">//sampleEnd</span>

<span class="k">fun</span> <span class="n">main</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">Array</span><span class="p">&lt;</span><span class="n">String</span><span class="p">&gt;)</span> <span class="p">{</span>
    <span class="n">lazySeq</span><span class="p">.</span><span class="n">forEach</span> <span class="p">{</span> <span class="n">print</span><span class="p">(</span><span class="s">"$it "</span><span class="p">)</span> <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>  </div>

</div>

<h3 id="other-high-level-apis-kotlinxcoroutines">Other high-level APIs: <code class="highlighter-rouge">kotlinx.coroutines</code>
</h3>

<p>Only core APIs related to coroutines are available from the Kotlin Standard Library. This mostly consists of core primitives and interfaces that all coroutine-based libraries are likely to use.</p>

<p>Most application-level APIs based on coroutines are released as a separate library: <a href="https://github.com/Kotlin/kotlinx.coroutines"><code class="highlighter-rouge">kotlinx.coroutines</code></a>. This library covers</p>
<ul>
  <li>Platform-agnostic asynchronous programming with <code class="highlighter-rouge">kotlinx-coroutines-core</code>:
    <ul>
      <li>this module includes Go-like channels that support <code class="highlighter-rouge">select</code> and other convenient primitives,</li>
      <li>a comprehensive guide to this library is available <a href="https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md">here</a>;</li>
    </ul>
  </li>
  <li>APIs based on <code class="highlighter-rouge">CompletableFuture</code> from JDK 8: <code class="highlighter-rouge">kotlinx-coroutines-jdk8</code>;</li>
  <li>Non-blocking IO (NIO) based on APIs from JDK 7 and higher: <code class="highlighter-rouge">kotlinx-coroutines-nio</code>;</li>
  <li>Support for Swing (<code class="highlighter-rouge">kotlinx-coroutines-swing</code>) and JavaFx (<code class="highlighter-rouge">kotlinx-coroutines-javafx</code>);</li>
  <li>Support for RxJava: <code class="highlighter-rouge">kotlinx-coroutines-rx</code>.</li>
</ul>

<p>These libraries serve as both convenient APIs that make common tasks easy and end-to-end examples of how to build coroutine-based libraries.</p>

  </div>
</article>

      </div>

      <div class="unit one-fifth hide-on-mobiles">
  <aside>
    <ul>
      <li class="">
        <a href="/news/">All Post</a>
      </li>
      <li class="">
        <a href="/news/releases/">Kotlin Releases</a>
      </li>
    </ul>
    <h4>Recent Releases</h4>
    <ul>
      
    </ul>
    <h4>Other Posts</h4>
    <ul>
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-experimental-coroutines/">Using coroutines</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-command-line-library-js/">Creating a Kotlin JavaScript library with the Command Line Compiler</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-spring-boot-restful/">Creating a RESTful Web Service with Spring Boot</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-kotlin-android/">Getting started with Android and Kotlin</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-koans/">Kotlin Koans</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-index/">Tutorials</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-httpservlets/">Creating Web Applications with Http Servlets</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-edu-tools-learner/">Learning Kotlin with EduTools plugin</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-edu-tools-educator/">Teaching Kotlin with EduTools plugin</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-create-library-js/">Creating Kotlin/JavaScript library with IntelliJ IDEA</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-coroutines-basic-jvm/">Introduction to Kotlin Coroutines on the JVM</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-command-line/">Working with the Command Line Compiler</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-command-line-library-js/">Creating Kotlin/JavaScript library with the Command Line Compiler</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-build-tools/">Working with Build Tools</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-android-plugin/">Kotlin Android Extensions</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-android-frameworks/">Android Frameworks Using Annotation Processing</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-whatsnew12/">What's New in Kotlin 1.2</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-whatsnew11/">What's New in Kotlin 1.1</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-visibility-modifiers/">Visibility Modifiers</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-using-maven/">Using Maven</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-using-gradle/">Using Gradle</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-using-ant/">Using Ant</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-typecasts/">Type Checks and Casts: 'is' and 'as'</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-type-safe-builders/">Type-Safe Builders</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-type-aliases/">Type aliases (since 1.1)</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-this-expressions/">This expressions</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-server-overview/">Kotlin for Server Side</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-sealed-classes/">Sealed Classes</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-returns/">Returns and Jumps: break and continue</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-reflection/">Reflection</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-ranges/">Ranges</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-properties/">Properties and Fields: Getters, Setters, const, lateinit</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-packages/">Packages and Imports</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-operator-overloading/">Operator overloading</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-object-declarations/">Object Expressions, Object Declarations and Companion Objects</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-null-safety/">Null Safety</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-nested-classes/">Nested and Inner Classes</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-native-overview/">Kotlin/Native</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-multiplatform/">Multiplatform Projects</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-multi-declarations/">Destructuring Declarations</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-lambdas/">Higher-Order Functions and Lambdas</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-kotlin-osgi/">Kotlin and OSGi</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-kotlin-doc/">Documenting Kotlin Code</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-kotlin-build-tools/">Kotlin Build Tools</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-keyword-reference/">Keywords and Operators</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-kapt/">Using kapt</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-js-to-kotlin-interop/">Calling Kotlin from JavaScript</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-js-reflection/">JavaScript Reflection</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-js-overview/">Kotlin for JavaScript</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-js-modules/">JavaScript Modules</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-js-interop/">Calling JavaScript from Kotlin</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-javascript-dce/">JavaScript DCE</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-java-to-kotlin-interop/">Calling Kotlin from Java</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-java-interop/">Calling Java from Kotlin</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-interfaces/">Interfaces</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-inline-functions/">Inline Functions and Reified Type Parameters</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-index/">Reference</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-idioms/">Idioms</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-generics/">Generics: in, out, where</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-functions/">Functions: infix, vararg, tailrec</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-faq/">FAQ</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-extensions/">Extensions</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-exceptions/">Exceptions: try, catch, finally, throw, Nothing</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-equality/">Equality</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-enum-classes/">Enum Classes</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-dynamic-type/">Dynamic Type</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-delegation/">Delegation</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-delegated-properties/">Delegated Properties</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-data-classes/">Data Classes</a>
        </li>
        
        
        
        <li class="current">
          <a href="/news/2018/05/15/kotlinlang-coroutines/">Coroutines</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-control-flow/">Control Flow: if, when, for, while</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-compiler-plugins/">Compiler Plugins</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-compatibility/">Compatibility</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-comparison-to-java/">Comparison to Java</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-collections/">Collections: List, Set, Map</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-coding-conventions/">Coding Conventions</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-classes/">Classes and Inheritance</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-basic-types/">Basic Types: Numbers, Strings, Arrays</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-basic-syntax/">Basic Syntax</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-annotations/">Annotations</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/15/kotlinlang-android-overview/">Kotlin for Android</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/05/13/android-01/">Kotlin Programming Language</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/01/24/kotlinlang-gradle-for-kotlin-native/">Gradle for Kotlin/Native</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/01/23/kotlinlang-kotlin-native-with-clion/">Kotlin/Native with CLion</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/01/22/kotlinlang-working-with-klib/">Working with Kotlin/Native Libraries</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2018/01/09/kotlinlang-interop-with-c/">Interop with C Libraries</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2017/12/03/kotlinlang-basic-kotlin-native-app/">A Basic Kotlin/Native Application</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2017/07/31/kotlinlang-debugging-javascript/">Debugging Kotlin in browser</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2017/05/04/kotlinlang-getting-started/">Getting Started with IntelliJ IDEA</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2017/02/27/kotlinlang-working-with-javascript/">Working with JavaScript</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/12/03/gradle-tip/">Android Gradle Tips</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/11/10/kotlinlang-getting-started-eclipse/">Getting Started with Eclipse Neon</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/11/04/kotlinlang-getting-started-with-maven/">Getting Started with Kotlin and JavaScript with Maven</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/11/04/kotlinlang-getting-started-with-gradle/">Getting Started with Kotlin and JavaScript with Gradle</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/10/07/kotlinlang-calling-javascript-from-kotlin/">Calling JavaScript from Kotlin</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/09/30/kotlinlang-working-with-modules/">Working with Kotlin and JavaScript Modules</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/09/30/kotlinlang-getting-started-with-intellij-idea/">Getting Started with Kotlin and JavaScript with IntelliJ IDEA</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/09/29/kotlinlang-kotlin-to-javascript/">Kotlin to JavaScript</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/07/26/android-database-tip/">Android 의 Sqlite Tip</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/04/16/migration-to-retrofit2/">Retrofit2 로 전환</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2016/02/12/Android-and-automation/">안드로이드와 자동화 툴</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2015/11/26/%EB%8D%94-%EB%B9%A0%EB%A5%B8-Andriod-App-Build/">더 빠른 Android App Build</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2015/03/10/.androidannotations-%EC%99%80-MVP/">AndroidAnnotations 와 MVP</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2015/03/01/04.androidannotation-%EA%B3%BC-%ED%85%8C%EC%8A%A4%ED%8A%B8/">AndroidAnnotations 과 테스트</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2015/03/01/03.androidannotation-%EA%B3%BC-mvc/">AndroidAnnotations 과 MVC 패턴</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2015/03/01/02.android-%EC%99%80-annotation/">Android 와 Annotation</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2015/03/01/01.Android-mvc-mvvm-mvp/">Android 와 개발 패턴</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2015/02/02/kotlinlang-kotlin-and-ci/">Kotlin and Continuous Integration with TeamCity</a>
        </li>
        
        
        
        <li class="">
          <a href="/news/2014/09/23/kotlinlang-mixing-java-kotlin-intellij/">Mixing Java and Kotlin in one project</a>
        </li>
        
        
    </ul>
  </aside>
</div>


      <div class="clear"></div>

    </div>
  </section>


  <footer>
  <div class="grid">
    <div class="unit one-third center-on-mobiles">
      <p>
        © 2018 Laon Dreams
      <br>Contacts: <a href="mailto:laondreams@gmail.com">laondreams@gmail.com</a></p>
    </div>
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
        Proudly hosted by
        <a href="https://github.com">
          <img src="/img/footer-logo.png" width="100" height="30" alt="GitHub • Social coding">
        </a>
      </p>
    </div>
  </div>
</footer>

  <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<span class=\"sr-only\">Permalink</span><i class=\"fa fa-link\"></i>";
    anchor.title = "Permalink";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("docs")[0] || document.getElementsByClassName("news")[0];
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>

  
  <!-- Google Analytics (https://www.google.com/analytics) -->
  <script>
    !function(j,e,k,y,l,L){j.GoogleAnalyticsObject=y,j[y]||(j[y]=function(){
    (j[y].q=j[y].q||[]).push(arguments)}),j[y].l=+new Date,l=e.createElement(k),
    L=e.getElementsByTagName(k)[0],l.src='https://www.google-analytics.com/analytics.js',
    L.parentNode.insertBefore(l,L)}(window,document,'script','ga');

    ga('create', 'UA-119113988-1', 'auto');
    ga('send', 'pageview');

  </script>


  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script>
<script type="text/javascript"> docsearch({
apiKey: '50fe39c839958dfad797000f33e2ec17',
indexName: 'jekyllrb',
inputSelector: '#docsearch-input',
enhancedSearchInput: true,
debug: false // Set debug to true if you want to inspect the dropdown
});
</script>

</body>
</html>
